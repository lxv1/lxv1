<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="1138.51">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 24.0px Times}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 18.0px Times}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; color: #0f3bee}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    p.p6 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times}
    p.p7 {margin: 0.0px 0.0px 12.0px 0.0px; font: 12.0px Times; min-height: 14.0px}
    span.s1 {text-decoration: underline ; color: #0f3bee}
    span.s2 {color: #000000}
    span.s3 {text-decoration: underline}
    span.s4 {color: #0f3bee}
    table.t1 {width: 782.0px; background-color: #ffffff; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #808080 #808080 #808080 #808080}
    td.td1 {width: 191.0px; margin: 1.5px 1.5px 1.5px 1.5px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #808080 #808080 #808080 #808080; padding: 3.0px 3.0px 3.0px 3.0px}
    td.td2 {width: 188.0px; margin: 1.5px 1.5px 1.5px 1.5px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #808080 #808080 #808080 #808080; padding: 3.0px 3.0px 3.0px 3.0px}
    td.td3 {width: 178.0px; margin: 1.5px 1.5px 1.5px 1.5px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #808080 #808080 #808080 #808080; padding: 3.0px 3.0px 3.0px 3.0px}
    td.td4 {width: 177.0px; margin: 1.5px 1.5px 1.5px 1.5px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #808080 #808080 #808080 #808080; padding: 3.0px 3.0px 3.0px 3.0px}
    td.td5 {width: 204.0px; margin: 1.5px 1.5px 1.5px 1.5px; border-style: solid; border-width: 1.0px 1.0px 1.0px 1.0px; border-color: #808080 #808080 #808080 #808080; padding: 3.0px 3.0px 3.0px 3.0px}
  </style>
</head>
<body>
<p class="p1"><span class="s1">NYT </span>Sunday, January 27, 2013</p>
<p class="p1"><span class="s1"><a href="http://wordplay.blogs.nytimes.com/category/numberplay/">Numberplay</a></span> January 21, 2013, 12:00 pm <a href="http://wordplay.blogs.nytimes.com/2013/01/21/stabl/#postComment"><span class="s1">37 Comments</span></a></p>
<p class="p2"><a href="http://wordplay.blogs.nytimes.com/2013/01/21/stabl/"><b>The Stable Marriage Problem</b></a><b><span class="Apple-converted-space"> </span></b></p>
<p class="p3">[click for text with pictures and a link to a video]</p>
<p class="p4"><span class="s2"><i>By </i><a href="http://wordplay.blogs.nytimes.com/author/gary-antonick/"><span class="s3"><i>GARY ANTONICK</i></span></a></span></p>
<p class="p5"><i></i><br></p>
<p class="p6">This week’s problem was suggested by Ken Fan, founder and director of <a href="http://wordplay.blogs.nytimes.com/2013/01/21/stabl/www.girlsangle.org/"><span class="s1">Girls’ Angle</span></a>, a Boston-area math club for girls and a supportive community for all girls and women engaged in the study, use and creation of mathematics.</p>
<p class="p6">The Stable Marriage Problem was featured in the December issue of <i>Girls’ Angle Bulletin</i>, a bimonthly magazine full of interviews with mathematicians, articles on math, mathematical activities, math problems, and math-inspired art. Check back on Wednesday to download the entire magazine, including the solution to this week’s problem.</p>
<p class="p6"><b>The Stable Marriage Problem</b></p>
<p class="p6">Four single men and four single women decide they’d like to pair up into four married couples. They’d like to choose their partners in a way that ensures their marriages are <i>stable</i>: that is, there are no two people who would both rather be married to each other than their current partners.</p>
<p class="p6">In order to help make sure they enter into stable marriages, the men and women, when they first start dating, rank members of the opposite sex in order of preference. Charlotte, for example, prefers Bingley most of all, and then Darcy, Collins and finally Wickham.</p>
<p class="p6">The rankings of all four women can be summarized as follows.</p>
<table width="782.0" cellspacing="0" cellpadding="0" class="t1">
  <tbody>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1"><b>Charlotte</b></p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1"><b>Elizabeth</b></p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1"><b>Jane</b></p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1"><b>Lydia</b></p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1">Bingley</p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Wickham</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Bingley</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Bingley</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1">Darcy</p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Darcy</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Wickham</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Wickham</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1">Collins</p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Bingley</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Darcy</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Darcy</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td1">
        <p class="p1">Wickham</p>
      </td>
      <td valign="middle" class="td2">
        <p class="p1">Collins</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Collins</p>
      </td>
      <td valign="middle" class="td3">
        <p class="p1">Collins</p>
      </td>
    </tr>
  </tbody>
</table>
<p class="p6"> </p>
<p class="p6">The men, of course, have preferences as well:</p>
<table width="782.0" cellspacing="0" cellpadding="0" class="t1">
  <tbody>
    <tr>
      <td valign="middle" class="td4">
        <p class="p1"><b>Bingley</b></p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1"><b>Collins</b></p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1"><b>Darcy</b></p>
      </td>
      <td valign="middle" class="td5">
        <p class="p1"><b>Wickham</b></p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td4">
        <p class="p1">Jane</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Jane</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Elizabeth</p>
      </td>
      <td valign="middle" class="td5">
        <p class="p1">Lydia</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td4">
        <p class="p1">Elizabeth</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Elizabeth</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Jane</p>
      </td>
      <td valign="middle" class="td5">
        <p class="p1">Jane</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td4">
        <p class="p1">Lydia</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Lydia</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Charlotte</p>
      </td>
      <td valign="middle" class="td5">
        <p class="p1">Elizabeth</p>
      </td>
    </tr>
    <tr>
      <td valign="middle" class="td4">
        <p class="p1">Charlotte</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Charlotte</p>
      </td>
      <td valign="middle" class="td4">
        <p class="p1">Lydia</p>
      </td>
      <td valign="middle" class="td5">
        <p class="p1">Charlotte</p>
      </td>
    </tr>
  </tbody>
</table>
<p class="p6"> </p>
<p class="p6">Who should marry whom?</p>
<p class="p6"><b>Solution</b></p>
<p class="p6">Mike stepped through the solution as follows:</p>
<p class="p7"><br></p>
<p class="p6"><i>Bingley and Jane have to be together and since they are each other’s first choice, their marriage is stable. Since neither of them will split for anyone else, we can remove them from the everyone else’s lists. With them gone, Lydia and Wickham are each other’s first choice. Putting them together and taking them off the lists makes Elizabeth and Darcy first for each other, leaving Charlotte and Collins as the final couple.</i></p>
<p class="p6">These lovers from Jane Austen’s <i>Pride and Prejudice</i> were fairly easy to pair up into stable marriages because there were only 8 people involved. But the problem could become much more difficult. Here’s Ken Fan:</p>
<p class="p6"><i>With 4 men and 4 women, an ad hoc approach can work. But imagine a scenario with thousands of men and an equal number of women all longing for a stable match-making outcome, that is, one where no man and woman who are not partners actually prefer each other to their respective partner. At such a scale, an ad hoc approach would surely be rocked by drama and a few broken hearts before all were paired up, and chances are, the matching would be far from stable.</i></p>
<p class="p6"><i>But in 1962, David Gale and Lloyd Shapley wondered if there was a way to formulate a procedure that would find a stable outcome and avoid all the drama. They succeeded brilliantly.</i></p>
<p class="p6"><i>The Gale–Shapley algorithm involves a number of iterations. In the first iterations, each unengaged woman proposes to the man she prefers most, and then each man tentatively accepts the proposal he prefers and rejects all others. He is then tentatively engaged to the suitor he prefers so far, and that suitor is likewise tentatively engaged to him.</i></p>
<p class="p6"><i>The iterations then continue, with each unengaged woman proposing to the most-preferred man to whom she has not yet proposed (whether or not the man is already engaged), and each man tentatively accepting the proposal he prefers and rejecting all others. The tentative nature of engagements enables an already-engaged man to break his current engagement and accept the offer from a woman he prefers.</i></p>
<p class="p6"><i>If the algorithm terminates in a complete matching, then by design, no woman, say Jane, would prefer another man, say John, over her husband who also preferred Jane over his wife because Jane would have made an offer to John before making one to her husband and John would have accepted Jane at that time, for had he been with a woman he preferred even over Jane, then John wouldn’t have given this preferred women up for his current wife, whom he presumably prefers less than Jane.</i></p>
<p class="p6"><i>So the critical question is, why does the algorithm terminate with a complete matching?  (The algorithm surely terminates, because there are only finitely many people on each woman’s list.)  If any woman had no partner at the end, there would have to also be an unmatched man at the end.  But a man can be unmatched only if he receives no offers.  Since every man is on every woman’s list, that would never happen.</i></p>
<p class="p6">See the algorithm in action in the beautifully illustrated solution in the <a href="http://graphics8.nytimes.com/packages/blogs/images/GABv06n02NYT.pdf"><span class="s1">December 2012 issue of </span><span class="s4"><i>Girls’ Angle Bulletin</i></span></a>.</p>
<p class="p6">Harvard University postdoctoral fellow in mathematics Emily Riehl presents the stable marriage problem in a <a href="http://www.girlsangle.org/page/WIM_videos.html"><span class="s1">Women in Mathematics video</span></a> produced by Girls’ Angle and shares the real world application that makes the algorithm her favorite.</p>
</body>
</html>
